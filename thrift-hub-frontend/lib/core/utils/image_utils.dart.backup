class ImageUtils {
  static String getImageUrl(String? imageUrl) {
    // Default fallback image
    const String defaultImage = 'https://images.unsplash.com/photo-1579952363873-27d3bfad9c0d?w=300&h=300&fit=crop&auto=format';
    
    if (imageUrl == null || imageUrl.isEmpty) {
      return defaultImage;
    }
    
    // If it's already a full URL, return as is
    if (imageUrl.startsWith('https://')) {
      return imageUrl;
    }
    
    // If it starts with photo-, construct Unsplash URL
    if (imageUrl.startsWith('photo-')) {
      return 'https://images.unsplash.com/$imageUrl';
    }
    
    // If it's a relative path, construct full Unsplash URL
    if (imageUrl.contains('unsplash.com')) {
      return imageUrl.startsWith('http') ? imageUrl : 'https://$imageUrl';
    }
    
    // For any other case, assume it's an Unsplash photo ID
    return 'https://images.unsplash.com/$imageUrl';
  }
  
  // Additional method to get product-specific images
  static String getProductImageUrl(String? imageUrl, {String? productName}) {
    if (imageUrl != null && imageUrl.isNotEmpty) {
      return getImageUrl(imageUrl);
    }
    
    // Fallback to product-specific images based on name
    if (productName != null) {
      if (productName.toLowerCase().contains('nord')) {
        return 'https://images.unsplash.com/photo-1579952363873-27d3bfad9c0d?w=300&h=300&fit=crop&auto=format';
      } else if (productName.toLowerCase().contains('juice') || productName.toLowerCase().contains('liquid')) {
        return 'https://images.unsplash.com/photo-1544531586-fbd96ceaff1c?w=300&h=300&fit=crop&auto=format';
      } else if (productName.toLowerCase().contains('battery')) {
        return 'https://images.unsplash.com/photo-1606984950584-c66b5a7a0cd5?w=300&h=300&fit=crop&auto=format';
      } else if (productName.toLowerCase().contains('coil')) {
        return 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300&h=300&fit=crop&auto=format';
      }
    }
    
    // Default vapor product image
    return 'https://images.unsplash.com/photo-1579952363873-27d3bfad9c0d?w=300&h=300&fit=crop&auto=format';
  }
}